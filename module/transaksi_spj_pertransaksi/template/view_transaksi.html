<!-- patTemplate:tmpl name="content" -->
<script language="javascript" type="text/javascript" src="js/cookie.js"></script>
<script language="javascript" type="text/javascript">
   var file_attach_nomor = 2;
   var nomor_invoice_list = 0;
   var arr_invoice_list = new Array();
   var xpopup;

   //getButton('hapus', 'http://ddd','test()')
   function getButton(xjenis, xhref, xonclick) {
      var xlink = document.createElement('a');
      var gbr = document.createElement('img');
      if(xjenis == 'hapus' || xjenis == 'delete') {
         xlink.setAttribute("title", "Hapus");
         gbr.setAttribute("src", "images/button-delete.gif");
         gbr.setAttribute("alt", "Hapus");
      } else {
         //edit
         xlink.setAttribute("title", "Edit");
         gbr.setAttribute("src", "images/button-edit.gif");
         gbr.setAttribute("alt", "Edit");
      }
      xlink.setAttribute("class", "xhr dest_subcontent-element");
      xlink.setAttribute("href", xhref);
      xlink.setAttribute("onclick", xonclick);
      xlink.appendChild(gbr);
      return xlink;
   }

   function buatBaris(xId, isiNomor, objIsi, objAksi) {
      var tr = document.createElement('tr');
      var td_nomor = document.createElement('td');
      var td_isi = document.createElement('td');
      var td_aksi = document.createElement('td');
      var nomor = document.createTextNode(isiNomor+1);

      tr.setAttribute("id", "tr_" + xId + "_" + isiNomor);
      td_nomor.align = "center";
      //alert(isiNomor);
      td_nomor.appendChild(nomor);
      //td_isi.setAttribute("title", "666");
      td_isi.appendChild(objIsi);
      td_aksi.appendChild(objAksi);

      //tr.appendChild(td_nomor);
      tr.appendChild(td_isi);
      tr.appendChild(td_aksi);
      return tr;
   }

   function tambahInvoice() {
      
      //membuat isi elemen2
      var isi;
      var isi_container;
      //membuat input hidden
      var input_hidden;

      var button_hapus;
      var baris;
      
      var tbodi = document.getElementById("tbody_invoice_list");
      var obj = document.getElementById('no_invoice');

      input_hidden = document.createElement('input');
      input_hidden.type = 'hidden';
      input_hidden.name = 'no_invoice_list[]';
      input_hidden.value = obj.value;

      isi = document.createTextNode(obj.value);
      isi_container = document.createElement('div');
      isi_container.appendChild(isi);
      isi_container.appendChild(input_hidden);
      
      button_hapus = getButton("hapus", "javascript:void(0)", "hapusInvoice(this)");

      baris = buatBaris('invoice_list', '', isi_container, button_hapus);
      tbodi.appendChild(baris);
      if(document.getElementById('invoice_empty'))
         document.getElementById('invoice_empty').style.display='none';
      obj.value='';
   }

   function hapusInvoice(obj) {
      document.getElementById("tbody_invoice_list").removeChild(obj.parentNode.parentNode);
   }

   function hapusInvoiceEdit(obj, xid) {
      var tr = obj.parentNode.parentNode;
      //membuat input hidden untuk dihapus
      var input_hidden;
      input_hidden = document.createElement('input');
      input_hidden.type = 'hidden';
      input_hidden.name = 'no_invoice_list_delete[]';
      input_hidden.value = xid;
      document.forms['frmInput'].appendChild(input_hidden);
      tr.parentNode.removeChild(tr);
   }
   
   function uploadFile(obj) {
      var arr_namafile = obj.value.split("\\");
      var namafile = arr_namafile[(arr_namafile.length-1)];
      
      //membuat elemen2
      var tr = document.createElement('tr');
      var td_nomor = document.createElement('td');
      var td_isi = document.createElement('td');
      var td_aksi = document.createElement('td');

      //membuat input file baru
      var input_file = document.createElement('input');
      input_file.setAttribute("type", "file");
      input_file.setAttribute("readonly", "true");
      input_file.setAttribute("name", "file_attach[]");
      input_file.setAttribute("onchange", "uploadFile(this)");
      input_file.id = "file_attach_" + file_attach_nomor;
      obj.parentNode.appendChild(input_file);

      //menyembunyikan yang lama
      obj.setAttribute("style", "display:none");

      //membuat isi elemen2
      var nomor = document.createTextNode(file_attach_nomor-1);
      var isi = document.createTextNode(namafile);
      
      //mengisikan elemen2 dengan isinya
      tr.setAttribute("id", "tr_file_bohong_" + (file_attach_nomor-1));
      td_nomor.setAttribute("align", "center");
      td_nomor.appendChild(nomor);
      td_isi.setAttribute("title", obj.value);
      td_isi.appendChild(isi);
      //td_isi.appendChild(input_file);

      //untuk tombol deletenya
      var button_hapus = getButton("hapus", "javascript:void(0)", "hapusFile('" + (file_attach_nomor-1) + "')");
      td_aksi.appendChild(button_hapus);

      //tr.appendChild(td_nomor);
      tr.appendChild(td_isi);
      tr.appendChild(td_aksi);
      document.getElementById('file_attach_tbody').appendChild(tr);
      if(document.getElementById('file_empty'))
         document.getElementById('file_empty').style.display='none';
      file_attach_nomor++;
   }

   function hapusFile(xid) {
      var elem = document.getElementById("tr_file_bohong_" + xid);
      elem.parentNode.removeChild(elem);
      var elem2 = document.getElementById("file_attach_" + xid);
      elem2.parentNode.removeChild(elem2);
   }

   function hapusFileEdit(obj, valId, valNama) {
      var tr = obj.parentNode.parentNode;
      tr.setAttribute('style', 'display:none');
      //membuat input hidden untuk dihapus
      var input_hidden;
      input_hidden = document.createElement('input');
      input_hidden.type = 'hidden';
      input_hidden.name = 'file_attach_delete[]';
      input_hidden.value = valId;
      var input_hidden2;
      input_hidden2 = document.createElement('input');
      input_hidden2.type = 'hidden';
      input_hidden2.name = 'file_attach_delete_nama[]';
      input_hidden2.value = valNama;
      obj.parentNode.appendChild(input_hidden);
      obj.parentNode.appendChild(input_hidden2);
   }

   function hapusSkenarioBohong(xid) {
      var elem = document.getElementById(xid);
      elem.parentNode.removeChild(elem);
   }

   function bukaPopupSkenario(xurl) {
      showPopup(xurl,'',600,500);
   }
   function bukaPopupUnitkerja(xurl) {
      showPopup(xurl,'',600,500);
   }
   function bukaPopupMAK(xurl) {
      var 
         uk = document.getElementById('unitkerja'),
         jenis_trans = document.getElementById('jenis_transaksi'),
         tipe_trans = document.getElementById('tipe_transaksi');
      if(!uk.value) alert('Silakan Pilih Unitkerja');
      else {
         if(jenis_trans.value == '5' && tipe_trans.value == '1')  
            showPopup('{URL_POPUP_MAK_PENERIMAAN}' + '&unitkerja=' + uk.value,'',600, 500);
         else if (jenis_trans.value == '5' && tipe_trans.value == '4')
            showPopup('{URL_POPUP_KEGIATAN_UNIT_KERJA}' + '&unitkerja=' + uk.value,'',600, 500);
         else if (jenis_trans.value == '5' && tipe_trans.value == '5')
            showPopup('{URL_POPUP_SISA_ANGGARAN}' + '&unitkerja=' + uk.value,'',600, 500);
         else showPopup(xurl + '&unitkerja=' + uk.value,'',600, 500);
      }
   }
   
      function popupCoa(){
      if(document.getElementById('transaksi').value !='') {   
          showPopup('{URL_POPUP_COA}','',550, 550);
      } else {
   	   alert('silahkan pilih data transaksi terlebih dahulu');
     }
   }
   
   function popupCoaKredit(){
      if(document.getElementById('transaksi').value !='') {   
          showPopup('{URL_POPUP_COA_KREDIT}','',550, 500);
      } else {
         alert('silahkan pilih data transaksi terlebih dahulu');
     }
   }

   var showHideMAK = function (obj) {
      tipe_transaksi = document.getElementById('tipe_transaksi');
      if (!showHideMAK.stack) showHideMAK.stack = new Array;

      if(obj.options[obj.selectedIndex].text != 'Anggaran') {
         for (i = tipe_transaksi.options.length - 1; i >= 0; i--)
            if (tipe_transaksi.options[i].value == 4 || tipe_transaksi.options[i].value == 5)
            {
               if (tipe_transaksi.selectedIndex == i)
                 // tipe_transaksi.onchange();
               showHideMAK.stack[tipe_transaksi.options[i].value] = tipe_transaksi.options[i].text;
               tipe_transaksi.options[i] = null;
            }

         document.getElementById('mak').value = '';
         document.getElementById('but_mak').disabled = true;
         document.getElementById('nominal_disetujui').disabled = true;
      } else {
         document.getElementById('but_mak').disabled = false;
         document.getElementById('nominal_disetujui').disabled = false;
         for (i in showHideMAK.stack) if (showHideMAK.stack[i])
            tipe_transaksi.options[tipe_transaksi.options.length] = new Option(showHideMAK.stack[i], i);
         showHideMAK.stack = new Array;
      }

      if (window.event)
      {
         //document.getElementById('nominal').value = '';
         document.getElementById('nominal').removeAttribute('readonly');
      }
   }

   function cek(objId, msg) {
      var obj = document.getElementById(objId);
      if(!obj.value && !obj.disabled) {
         alert(msg);
         obj.focus();
         obj.select;
         return false;
      }
      return true;
   }
   
   function ceknominal(objId1, objId2, msg) {
      var obj1 = document.getElementById(objId1);
      var obj2 = document.getElementById(objId2);
      obj1Val = parseInt(obj1.value);
      obj2Val = parseInt(obj2.value);
      
      if (obj1.gvGetValue) obj1Val = parseInt(obj1.gvGetValue());
      if (obj2.gvGetValue) obj2Val = parseInt(obj2.gvGetValue());
      
      if(obj1Val > obj2Val) {
         alert(msg);
         obj1.focus();
         obj1.select;
         return false;
      }
      return true;
   }

   function cekIsiForm() {
      if(false == cek('unitkerja', 'Silakan isi Unit/ Sub Unit')) return;
      //if(false == cek('jenis_transaksi', 'Silakan isi Jenis Transaksi')) return;
      //if(false == cek('tipe_transaksi', 'Silakan isi Tipe Transaksi')) return;
      var jenis = document.getElementById('jenis_transaksi');
      if(jenis.value == 5 && !cek('transaksi', 'Silakan Pilih Referansi Transaksi')) return;
      if(!document.getElementsByName('no_invoice_list[]').length && !document.getElementsByName('no_invoice_list_edit').length) {alert('Silahkan isi invoice!'); document.getElementById('no_invoice').focus(); return;}
      if(false == cek('nominal', 'Silakan isi Nominal Transaksi')) return;
      if(jenis.value == 5 && !ceknominal('nominal','nominal_disetujui_hidden', 'Nilai Nominal tidak boleh lebih dari nilai Nominal Disetujui.')) return;
      //var jumlah = update_total_jurnal('null');
      //if(jumlah == false) return alert('Jumlah debet dan kredit belum sama atau belum diisi!');
      //if(jumlah != document.getElementById('nominal').gvGetValue()) return alert('Jumlah debet dan kredit tidak sama dengan nominal!');
      if(false == cek('penanggung_jawab', 'Silakan isi Penanggung Jawab')) return;
  
      document.getElementById('simpan').click();
   }
   /**
   function jsCheck(idTipe) {
      var jenis = document.getElementById('jenis_transaksi').value;
      var tipe = document.getElementById('tipe_transaksi').value;
      var unitkerja_label = document.getElementById('unitkerja_label').value;
      var unitkerja = document.getElementById('unitkerja').value;
	
      GtfwAjax.replaceContentWithUrl('no_bkk', '<!-- patTemplate:gtfwgeturl module="transaksi_spj" sub="no" action="view" type="html" htmlentities="no" / -->&ascomponent=1&dataId='+idTipe+'&check=yes&jenis_transaksi='+jenis+'&tipe_transaksi='+tipe+'&unitkerja='+unitkerja);
      
      
      //document.forms[0].check.value = "yes";
      //document.forms[0].submit();
   }
   */
   
   function hapus_akun(obj) {
	  document.getElementById("tbody_akun_list").removeChild(obj.parentNode.parentNode);
   }
</script>
<h1>{MODE_20080109} <!-- patTemplate:gtfwgetconfig config="language" name="transaksi_spj_pertransaksi" / --></h1>
   <!-- patTemplate:tmpl name="warning_box" visibility="hidden" -->
   <div class="{CLASS_PESAN}">
      {ISI_PESAN}
   </div>
   <!-- /patTemplate:tmpl -->
   <br />
   <div class="toolbar">
   </div>
   <br />
   <form method="POST" action="{URL_ACTION}" name="frmInput" class="xhr_form std_form" id="frmInput" enctype="multipart/form-data" >
      <input type="hidden" name="check" id="check" value="" />
      <table class="table-edit" width="100%">
         <tr class="subhead">
            <th colspan="2">{MODE_20080109} <!-- patTemplate:gtfwgetconfig config="language" name="transaksi_spj_pertransaksi" / --></th>
         </tr>
         
         
         <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="nomor_bukti" / --></th>
          
          <td>
		  		<!-- patTemplate:tmpl name="is_tambah" type="condition" conditionvar="IS_TAMBAH" -->
        		<!-- patTemplate:sub condition="YES" -->
				<b>(<!-- patTemplate:gtfwgetconfig config="language" name="auto_number" / -->)</b>
				<!-- /patTemplate:sub -->
        		<!-- patTemplate:sub condition="NO" -->
				<b>{NO_KKB}</b>
				<input type="hidden" name="no_kkb" id="no_kkb" value="{NO_KKB}" />
				<input type="hidden" name="unitkerja_lama" id="unitkerja_lama"
							 value="{UNITKERJA_LAMA}"/>
				<!-- /patTemplate:sub -->
        	<!-- /patTemplate:tmpl -->
		  
		  </td>
          
        </tr>
      <!-- patTemplate:tmpl name="role" type="condition" conditionvar="WHOAMI" -->
         <!-- patTemplate:sub condition="ADMINISTRATOR" -->
        <tr>
          <th><!-- patTemplate:gtfwgetconfig config="language" name="unit" / -->/ <!-- patTemplate:gtfwgetconfig config="language" name="sub_unit" / --></th>
          <td><input type="hidden" name="unitkerja" id="unitkerja" value="{UNITKERJA}" /><input type="text" name="unitkerja_label" id="unitkerja_label" value="{UNITKERJA_LABEL}" size="40" readonly="readonly" /><input type="button"  name="but_unitkerja" onclick="bukaPopupUnitkerja('{URL_POPUP_UNITKERJA}')" value=" ... " />*</td>
        </tr>
       <!-- /patTemplate:sub -->
         <!-- patTemplate:sub condition="OPERATORUNIT" -->
        <tr>
          <th><!-- patTemplate:gtfwgetconfig config="language" name="unit" / -->/ <!-- patTemplate:gtfwgetconfig config="language" name="sub_unit" / --></th>
          <td><input type="hidden" name="unitkerja" id="unitkerja" value="{UNITKERJA}" /><input type="text" name="unitkerja_label" id="unitkerja_label" value="{UNITKERJA_LABEL}" size="40" readonly="readonly" /><input type="button"  name="but_unitkerja" onclick="bukaPopupUnitkerja('{URL_POPUP_UNITKERJA}')" value=" ... " />*</td>
        </tr>
       <!-- /patTemplate:sub -->
         <!-- patTemplate:sub condition="OPERATORSUBUNIT" -->
         <tr>
            <th><!-- patTemplate:gtfwgetconfig config="language" name="unit" / -->/ <!-- patTemplate:gtfwgetconfig config="language" name="sub_unit" / --></th>
            <td><input type="hidden" name="unitkerja" id="unitkerja" value="{UNITKERJA}" />{UNITKERJA_LABEL}</td>
         </tr>
       <!-- /patTemplate:sub -->
     <!-- /patTemplate:tmpl -->
        <tr style="display: none;">              
          <th width="20%"><!-- patTemplate:gtfwgetconfig config="language" name="jenis_transaksi" / --></th>
          <td><!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="jenis_transaksi"  / -->*</td>
        </tr>
        <tr style="display: none;">              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="tipe_transaksi" / --></th>
          <td><!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="tipe_transaksi"  / -->*</td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="referensi_transaksi" / --></th>
          <td>
          <input type="hidden" name="transaksi" id="transaksi" value="{TRANSAKSI}" />
          <input type="hidden" name="transaksi_nilai" id="transaksi_nilai" value="{TRANSAKSI_NILAI}" size="25"  / >
          <input type="text" name="transaksi_label" id="transaksi_label" value="{TRANSAKSI_LABEL}" size="50" readonly="readonly" {MAK_IS_DISABLED} /><input type="button" name="but_mak" id="but_mak" onclick="bukaPopupMAK('{URL_POPUP_REF_TRANSAKSI}')" value=" ... " {MAK_IS_DISABLED} /></td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="tanggal_transaksi" / --></th>
          <td><!-- patTemplate:gtfwrendermodule module="tanggal" submodule="Tanggal" action="view" name="tanggal_transaksi" / --></td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="due_date" / --></th>
          <td><!-- patTemplate:gtfwrendermodule module="tanggal" submodule="Tanggal" action="view" name="due_date" / --></td>
        </tr>
        
        
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="no_invoice" / --></th>
          <td><input type="text" name="no_invoice" id="no_invoice" value="{NO_INVOICE}" /><input type="button" value="<!-- patTemplate:gtfwgetconfig config="language" name="simpan" / -->" name="no_invoice_simpan" id="no_invoice_simpan" onclick="tambahInvoice()" /></td>
        </tr>
      <tr>
         <td colspan="2" style="padding-left:50px">
            <table class="table-edit" width="500" id="table_invoice_list">
               <tr class="subhead">
                  
                  <th><!-- patTemplate:gtfwgetconfig config="language" name="invoice" / --></th>
                  <th width="33"><!-- patTemplate:gtfwgetconfig config="language" name="aksi" / --></th>
               </tr>
               <tbody id="tbody_invoice_list">
                 <!-- patTemplate:tmpl name="tpl_invoice_list" type="condition" conditionvar="INVOICE_LIST_EMPTY" -->
                   <!-- patTemplate:sub condition="YES" -->
                   <tr id="invoice_empty"><td colspan="3" align="center"><em>--<!-- patTemplate:gtfwgetconfig config="language" name="data_kosong" / -->--</em></td></tr>
                   <!-- /patTemplate:sub -->
                   <!-- patTemplate:sub condition="NO" -->
                     <!-- patTemplate:tmpl name="tpl_invoice_item" -->
                     <tr class="{DATA_CLASS_NAME}">
                        <td>
                           {DATA_NOMOR}
                           <input type="hidden" name="no_invoice_list_edit" id="no_invoice_list_edit" value="{DATA_NOMOR}" />
                        </td>
                        <td>
                           <a href="javascript:void(0)" onclick="hapusInvoiceEdit(this, '{DATA_ID_DELETE}')" title="<!-- patTemplate:gtfwgetconfig config="language" name="hapus" / -->"><img src="images/button-delete.gif" alt="Hapus"/></a>
                        </td>
                   </tr>
                   <!-- /patTemplate:tmpl -->
                   <!-- /patTemplate:sub -->
                 <!-- /patTemplate:tmpl -->
               </tbody>
               
            </table>
         </td>
        </tr>
        <tr style="display: none;">              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="nominal_disetujui" / --></th>
          <td>
            <!-- patTemplate:gtfwgetconfig config="language" name="rp" / -->. <input type="text" name="nominal_disetujui" id="nominal_disetujui" value="{NOMINAL_DISETUJUI}" readonly="true" />
            <input type="hidden" name="nominal_disetujui_hidden" id="nominal_disetujui_hidden" value="" />
            <input type="hidden" name="peng_real_id" id="peng_real_id" value="" />
          </td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="nominal" / --></th>
          <td><!-- patTemplate:gtfwgetconfig config="language" name="rp" / -->. <input type="text" name="nominal" id="nominal" value="{NOMINAL}" readonly="readonly" align="right" class="gvFloat" />*</td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="jurnal" / --></th>
          <td>
            <div class="toolbar"  style="display:none">
               <a title="Pilih Kode Jurnal" onclick="showPopup('{URL_POPUP_KODE_JURNAL}','',560,420);"><img src="images/button-check.gif" alt="">Kode Jurnal</a>
            </div>
          </td>
        </tr>
        <tr>
         <td colspan="2">
            <table class="table-edit" style="border:none" width="100%">
               <tr>
               <th style="border:none"><b><!-- patTemplate:gtfwgetconfig config="language" name="debet" / --></b></th>
               <td style="border:none">
                  <div  class="toolbar">
                     <a class="dest_subcontent-element" href="javascript:void(0)" onclick="javascript:popupCoa()" title="<!-- patTemplate:gtfwgetconfig config="language" name="tambah_debet" / -->">
			            <b><!-- patTemplate:gtfwgetconfig config="language" name="tambah_akun" / --></b>
			            </a>
                  </div>
			      </td>
			      </tr>
			      <tr>
			         <td colspan="2"  style="border:none">
			         <div id="div_akun_delete" style="display:none"></div>
                     <table class="table-common" width="100%" id="table-debet" >
                     <tr>
                        <th ><!-- patTemplate:gtfwgetconfig config="language" name="kode_rekening" / --></th>             
                        <th><!-- patTemplate:gtfwgetconfig config="language" name="nama_rekening" / --></th>
                      <th><!-- patTemplate:gtfwgetconfig config="language" name="nilai_rp" / --></th>       
               		 <th>&nbsp;</th>
               		 
                     </tr>	  
               	  <tbody id="tbody_akun_list">
               	  <!-- patTemplate:tmpl name="bool-table-debet-tambah" type="condition" conditionvar="HAVE_DATA" -->
               	  <!-- patTemplate:sub condition="YES" -->
               		  <!-- patTemplate:tmpl name="table-debet-tambah"  -->          
               				<tr class="{DATA_CLASSNAME}table-common-even" >				   
               				   <td>{DEBET_KODE}
               				       <input type="hidden" name="data[debet][tambah][detail_id][]" value="{DEBET_DETAIL_ID}" />
               				       <input type="hidden" name="data[debet][tambah][id][]" value="{DEBET_ID}" />			   
               					   <input type="hidden" name="data[debet][tambah][kode][]" value="{DEBET_KODE}" />			   
               				   </td>
               				   <td>{DEBET_NAMA}
               					   <input type="hidden" name="data[debet][tambah][nama][]" value="{DEBET_NAMA}" />			   
               				   </td> 
               				   <td> 
               					   <input type="text" class="gvFloat" name="data[debet][tambah][nilai][]" value="{DEBET_NILAI}" style="text-align:right" />			   
               				   </td>              	   			   
               				   <td>
               					   <a href="javascript:void(null)" title="<!-- patTemplate:gtfwgetconfig config="language" name="hapus" / -->" onclick="hapus_akun(this, '{DEBET_DETAIL_ID}', '{DEBET_NAMA}')"><img src="images/button-delete.gif" alt="Hapus" /></a>
               				   </td>               	   			   				   
               				</tr> 
                          <!-- /patTemplate:tmpl -->
                       <!-- /patTemplate:sub -->				
                     <!-- /patTemplate:tmpl -->
               	  <!-- patTemplate:tmpl name="bool-table-debet" type="condition" conditionvar="HAVE_DATA" -->
               	  <!-- patTemplate:sub condition="YES" -->
               		  <!-- patTemplate:tmpl name="table-debet"  -->        
               				<tr class="{DATA_CLASSNAME}table-common-even" >				   
               				   <td>{DEBET_KODE}
               				       <input type="hidden" name="data[debet][tambah_edit][detail_id][]" value="{DEBET_DETAIL_ID}" />
               				       <input type="hidden" name="data[debet][tambah_edit][id][]" value="{DEBET_ID}" />			   
               					   <input type="hidden" name="data[debet][tambah_edit][kode][]" value="{DEBET_KODE}" />			   
               				   </td>
               				   <td>{DEBET_NAMA}
               					   <input type="hidden" name="data[debet][tambah_edit][nama][]" value="{DEBET_NAMA}" />			   
               				   </td> 
               				   <td>
               					   <input type="text" class="gvFloat" name="data[debet][tambah_edit][nilai][]" value="{DEBET_NILAI}" style="text-align:right" />			   
               				   </td>              	   			   
               				   <td>
               					   <a href="javascript:void(null)" title="<!-- patTemplate:gtfwgetconfig config="language" name="hapus" / -->" onclick="hapus_akun_edit(this, '{DEBET_DETAIL_ID}', '{DEBET_NAMA}')"><img src="images/button-delete.gif" alt="Hapus" /></a>
               				   </td>               	   			   				   
               				</tr> 
                          <!-- /patTemplate:tmpl -->
                       <!-- /patTemplate:sub -->				
                     <!-- /patTemplate:tmpl -->
               	</tbody>
                   </table>  
               	<div id="total" style="text-align:right;"></div>
			         </td>
			      </tr>
            </table>
         </td>	
        </tr>
        <tr>
         <td colspan="2">
            <table class="table-edit"  style="border:none" width="100%">
               <tr>
               <th style="border:none"><b><!-- patTemplate:gtfwgetconfig config="language" name="kredit" / --></b></th>
               <td style="border:none">
			      </td>
			      </tr>
			      <tr>
			         <td colspan="2" style="border:none">
               	<table class="table-common" width="100%" id="table-kredit" >
                     <tr>
                        <th ><!-- patTemplate:gtfwgetconfig config="language" name="kode_rekening" / --></th>
                        <th ><!-- patTemplate:gtfwgetconfig config="language" name="nama_rekening" / --></th>             
                        <th ><!-- patTemplate:gtfwgetconfig config="language" name="nilai_rp" / --></th>         
                     </tr>
               	  <tr>
               	  <td><div id="coa_kredit_kode" >{COA_KREDIT_KODE}</div>
               	  </td>
                        <td>
                           <input type="text" name="data[kredit][coa_nama]" id="coa_kredit_nama" value="{COA_KREDIT_NAMA}" size="25" readonly="readonly" />              
                           <input type="button" name="btnshift" value="..."  onClick="javascript:popupCoaKredit()" />
                           <input type="hidden" name="data[kredit][id]" id="coa_kredit_id" value="{COA_KREDIT_ID}" size="25"  />
                        </td>
                        <td align="right">
                           <div id="kredit_nilai_view" style="font-weight:bold;">{KREDIT_NILAI_VIEW}</div>
                           <input type="hidden" name="data[kredit][nilai]" id="kredit_nilai" value="{KREDIT_NILAI}" size="25"  />
                           <input type="hidden" name="data[kredit][detail_id]" id="coa_kredit_id" value="{KREDIT_DETAIL_ID}" size="25" />
                        </td>
               	  </tr>
                  </table> 
			         </td>
			      </tr>
            </table>
         </td>	
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="uraian_transaksi" / --></th>
          <td><textarea name="catatan_transaksi" cols="50" rows="5">{CATATAN_TRANSAKSI}</textarea></td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="penanggung_jawab" / --></th>
          <td><input type="text" name="penanggung_jawab" id="penanggung_jawab" value="{PENANGGUNG_JAWAB}" size="40" />*</td>
        </tr>
        <tr>              
          <th><!-- patTemplate:gtfwgetconfig config="language" name="attachment" / --></th>
          <td><input type="file" name="file_attach[]" id="file_attach_1" onchange="uploadFile(this)" /></td>
        </tr>
      <tr>
         <td colspan="2" style="padding-left:50px">
            <table class="table-edit" id="file_attach_table" width="500">
               <tr class="subhead">
                  
                  <th><!-- patTemplate:gtfwgetconfig config="language" name="nama_file" / --></th>
                  <th width="33"><!-- patTemplate:gtfwgetconfig config="language" name="aksi" / --></th>
               </tr>
               <tbody id="file_attach_tbody">
                 <!-- patTemplate:tmpl name="tpl_file_list" type="condition" conditionvar="FILE_LIST_EMPTY" -->
                   <!-- patTemplate:sub condition="YES" -->
                   <tr id="file_empty"><td colspan="2" align="center"><em>--<!-- patTemplate:gtfwgetconfig config="language" name="data_kosong" / -->--</em></td></tr>
                   <!-- /patTemplate:sub -->
                   <!-- patTemplate:sub condition="NO" -->
                     <!-- patTemplate:tmpl name="tpl_file_item" -->
                     <tr class="{DATA_CLASS_NAME}">                        
                        <td>{DATA_NAMA}</td>
                        <td>
                           <a href="javascript:void(0)" onclick="hapusFileEdit(this, '{DATA_ID_DELETE}', '{DATA_NAMA}')" title="Hapus"><img src="images/button-delete.gif" alt="Hapus"/></a>
                        </td>
                   </tr>
                   <!-- /patTemplate:tmpl -->
                   <!-- /patTemplate:sub -->
                 <!-- /patTemplate:tmpl -->
               </tbody>
            </table>
            <br />
         </td>
      </tr>
      <tr class="buttons">
         <th>&nbsp;</th>
         <td>
            <div style="display:none;"><input type="submit" name="btnsimpan" id="simpan" value=" <!-- patTemplate:gtfwgetconfig config="language" name="simpan" / --> " /></div>
         <input type="button" name="btnsimpanBohong" value=" <!-- patTemplate:gtfwgetconfig config="language" name="simpan" / --> " onclick="cekIsiForm()" />
        <a class="xhr dest_subcontent-element button" href="{URL_RESET}" 
			title="<!-- patTemplate:gtfwgetconfig config="language" name="reset" / -->">
				<!-- patTemplate:gtfwgetconfig config="language" name="reset" / -->
			</a>
         </td>
      </tr>
   </table>
</form>
<br />

<br />
<div class="petunjuk-area">
   <h4><!-- patTemplate:gtfwgetconfig config="language" name="petunjuk" / --></h4>
   <ul>
      <li><!-- patTemplate:gtfwgetconfig config="language" name="info_wajib_diisi" / --> </li>
   </ul>
</div>
<script>
showHideMAK(document.getElementById('jenis_transaksi'));
if (document.getElementById('tipe_transaksi').value == 4 || document.getElementById('tipe_transaksi').value == 5)
   document.getElementById('nominal').setAttribute('readonly', '');
//if (document.getElementById('no_kkb').value == '') jsCheck(6);
</script>
<!-- /patTemplate:tmpl -->
